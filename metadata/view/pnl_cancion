{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "container|align": "stretch",
        "designer|userAlias": "pnl_cancion",
        "designer|userClassName": "pnl_cancion",
        "height": null,
        "id": "pnl_cancion",
        "layout": "vbox",
        "scrollable": null,
        "title": "PANEL CANCIÓN",
        "width": null
    },
    "configAlternates": {
        "scrollable": "boolean",
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "header": "boolean",
        "height": "auto",
        "id": "string",
        "title": "string",
        "width": "auto",
        "container|align": "string",
        "layout": "string"
    },
    "name": "pnl_usuario1",
    "designerId": "f8ddc63e-50ec-4394-8fca-975feff77ac5",
    "viewControllerInstanceId": "6e21c597-3dec-47c8-aff9-228c29df0dc1",
    "viewModelInstanceId": "d3b899a0-b000-47ec-9e93-dbd144590756",
    "cn": [
        {
            "type": "Ext.grid.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "autoLoad": true,
                "emptyText": "No hay registros para mostrar",
                "flex": 1,
                "height": 500,
                "id": "gridCanciones",
                "layout|flex": 1,
                "scrollable": true,
                "store": "store_cancion",
                "title": "Listado Canción",
                "titleAlign": null,
                "width": 500
            },
            "configAlternates": {
                "flex": "number",
                "store": "store",
                "title": "string",
                "autoLoad": "boolean",
                "emptyText": "string",
                "id": "string",
                "layout|flex": "number",
                "scrollable": "boolean",
                "height": "auto",
                "titleAlign": "string",
                "width": "auto"
            },
            "name": "MyGridPanel",
            "designerId": "dc9f0ef5-8832-4e2f-ae4f-10a3a1131c93",
            "cn": [
                {
                    "type": "Ext.selection.CheckboxModel",
                    "reference": {
                        "name": "selModel",
                        "type": "object"
                    },
                    "codeClass": null,
                    "name": "MyCheckboxSelectionModel",
                    "designerId": "11465d15-1795-41d0-ad8d-75e204843979"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "id",
                        "flex": 1,
                        "text": "Id"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn6",
                    "designerId": "ac07fd00-ad92-44dc-8fe0-7fb96415f403"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "titulo",
                        "flex": 2,
                        "text": "Título"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn",
                    "designerId": "9efa5d08-d329-42b6-9629-12542c037cd5"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "artista",
                        "flex": 2,
                        "text": "Artista"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn2",
                    "designerId": "8b8925f7-699f-492f-9ac4-f0206f5db975"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "letra",
                        "flex": 4,
                        "text": "Letra",
                        "tooltipType": null
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string",
                        "tooltipType": "string"
                    },
                    "name": "MyColumn4",
                    "designerId": "8237042c-c13b-49e3-b725-4e8f78428280",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "var retorno = value.replace(/\\n/g,'<br>');",
                                    "if(value.length>SRMusicalWeb.globals.LONGITUDTEXTOLETRA)",
                                    "    metaData.tdAttr = 'data-qtip=\"' + value + '\"';",
                                    "    retorno = value.slice(0,SRMusicalWeb.globals.LONGITUDTEXTOLETRA)+\"...\";",
                                    "return retorno;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "f841eb17-684e-477b-91e7-c3058a6198ab"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "estadoByEstadoReferenciaNombre",
                        "flex": 2,
                        "text": "Estado"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn3",
                    "designerId": "a35f54c1-7be0-4889-a965-01d86b1fbc0e"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "rankingBillboard",
                        "flex": 1,
                        "text": "Ranking Billboard"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn13",
                    "designerId": "823168a3-fbb9-482f-9cf4-8a880352b535"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "semanaBillboard",
                        "flex": 1,
                        "text": "Semanas Ranking"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn14",
                    "designerId": "b3606b95-595d-4832-ad14-caacd5d470be"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "numeroVisualizacion",
                        "flex": 1,
                        "text": "Número Visualizaciones"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn8",
                    "designerId": "1fd72a4b-9244-49af-937c-d0d5afafa121"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "duracionSegundo",
                        "flex": 1,
                        "text": "Duración"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn1",
                    "designerId": "d6fbdbac-7c3c-42e1-bddf-56bd8954c4ab",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "var retorno = SRMusicalWeb.app.convertirSegundos(value);",
                                    "return retorno;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "3688d8ab-7a5f-46ef-88e5-c1e05fd7b886"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "valoracionReferencia",
                        "flex": 1,
                        "text": "Valoración"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "flex": "number",
                        "text": "string"
                    },
                    "name": "MyColumn5",
                    "designerId": "a7622970-ff7e-43da-8c75-b97e88697b4b",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "var retorno = (Math.round(value * 100) / 100);",
                                    "return retorno;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "0ef7e4ed-ac74-4695-95dc-6c999d315fc4"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "flex": 1,
                        "hidden": true,
                        "text": "Acciones"
                    },
                    "configAlternates": {
                        "flex": "number",
                        "text": "string",
                        "hidden": "boolean"
                    },
                    "name": "MyColumn7",
                    "designerId": "fd115d59-768c-48d2-a6bd-9cd97c2c1abc",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "var id = Ext.id();",
                                    "Ext.defer(function() {",
                                    "    if(Ext.get(id)){",
                                    "        Ext.create('Ext.container.Container', {",
                                    "            renderTo: id,",
                                    "            flex: 1,",
                                    "            layout : {",
                                    "                type : 'hbox',",
                                    "                pack:'center'",
                                    "            },",
                                    "            items: [{",
                                    "                xtype: 'button',",
                                    "                iconCls:'general-icono-editar',",
                                    "                componentCls: 'general-fondo-boton-configurar',",
                                    "                menu: [{",
                                    "                    text:'Editar Canción',",
                                    "                    handler: function() {",
                                    "                        if(!navigator.onLine){",
                                    "                            SRMusicalWeb.app.toast(SRMusicalWeb.globals.TOASTID,SRMusicalWeb.globals.TOASTMSJERROROFFLINE,SRMusicalWeb.globals.TOASTTITLEALERTA);",
                                    "                        }else{",
                                    "                            var vtn = Ext.widget('vtn_usuario');",
                                    "                            var form = Ext.getCmp(\"frm_usuario\").getForm();",
                                    "                            form.loadRecord(record);",
                                    "                            vtn.cargarDatos(record);",
                                    "                            Ext.getCmp(\"frm_usuario\").setTitle('Editar Usuario');",
                                    "                            Ext.getCmp('btn_accion').setHidden(true);",
                                    "                            Ext.getCmp('btn_accion_guardar').setHidden(false);",
                                    "                            vtn.show();",
                                    "                        }",
                                    "                    }",
                                    "                }]",
                                    "            }]",
                                    "        });",
                                    "    }",
                                    "}, 50);",
                                    "return Ext.String.format('<div id=\"{0}\"></div>', id);"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "88b1e4d1-3758-4e2c-ab0b-15ea8dca103d"
                        }
                    ]
                },
                {
                    "type": "Ext.view.Table",
                    "reference": {
                        "name": "viewConfig",
                        "type": "object"
                    },
                    "codeClass": null,
                    "name": "MyTable",
                    "designerId": "36b7f340-fc33-455f-a7f0-feaf6944e4b9"
                }
            ]
        },
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "container|pack": "center",
                "container|padding": 10,
                "designer|displayName": "ctn_botones_usuario",
                "dock": "bottom",
                "layout": "hbox"
            },
            "configAlternates": {
                "container|align": "string",
                "container|pack": "string",
                "container|padding": "auto",
                "designer|displayName": "string",
                "dock": "string",
                "id": "string",
                "layout": "string"
            },
            "name": "MyContainer4",
            "designerId": "7530e1f3-488f-42a2-80f0-ece7ea48f1b3",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "id": "btn_registrar_usuario1",
                        "text": "Registrar",
                        "width": 100
                    },
                    "configAlternates": {
                        "hidden": "boolean",
                        "id": "string",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyButton4",
                    "designerId": "2a454311-6b1c-427d-bb39-b52519da333a",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtn_registrar_usuarioClick",
                                "implHandler": [
                                    "var vtn = Ext.widget('vtn_usuario');",
                                    "vtn.show();",
                                    "vtn.center();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onBtn_registrar_usuarioClick",
                            "designerId": "ec0a982a-f9ec-4aca-88e3-77d5f89282ed"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": null,
                        "id": "btn_eliminar_cancion",
                        "margin": "0 0 0 5",
                        "text": "Eliminar",
                        "width": 100
                    },
                    "configAlternates": {
                        "hidden": "boolean",
                        "id": "string",
                        "text": "string",
                        "width": "auto",
                        "margin": "auto"
                    },
                    "name": "MyButton8",
                    "designerId": "14c1f1bf-78a1-4318-a6d2-e1e8119e8766",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtn_eliminar_cancionClick",
                                "implHandler": [
                                    "button.setDisabled(true);",
                                    "var grid = Ext.getCmp('gridCanciones');",
                                    "var records = grid.getSelectionModel().getSelection()[0];",
                                    "if(records){",
                                    "    var rows = grid.getSelectionModel().getSelection();",
                                    "    if (rows.length > 0){",
                                    "        if (rows.length > 1){",
                                    "            grid.suspendEvents();",
                                    "        }",
                                    "        Ext.MessageBox.show({",
                                    "            title: 'Confirmación',",
                                    "            msg: 'Está seguro de eliminar los registros?',",
                                    "            buttons: Ext.MessageBox.YESNO,",
                                    "            buttonText:{",
                                    "                yes: \"Si\",",
                                    "                no: \"No\"",
                                    "            },",
                                    "            fn: show",
                                    "        });",
                                    "    }else{",
                                    "        SRMusicalWeb.app.message(SRMusicalWeb.globals.MESSAGEID,SRMusicalWeb.globals.MESSAGETITLEALERTA,SRMusicalWeb.globals.MESSAGEMSJNOREGISTRO,SRMusicalWeb.globals.MESSAGETYPEOK);",
                                    "        button.enable();",
                                    "    }",
                                    "",
                                    "    function show(btn){",
                                    "        if (btn === \"yes\"){",
                                    "            var store = grid.getStore();",
                                    "            store.remove(rows);",
                                    "            store.sync({",
                                    "                callback: function(batch, eOpts) {",
                                    "                    button.enable();",
                                    "                    if(batch.operations[0].success){",
                                    "                        SRMusicalWeb.app.toast(SRMusicalWeb.globals.TOASTID,SRMusicalWeb.globals.TOASTMSJOPERACIONEXITOSA,SRMusicalWeb.globals.TOASTTITLEMENSAJE);",
                                    "                    }",
                                    "                }",
                                    "            });",
                                    "        }else{",
                                    "            button.enable();",
                                    "        }",
                                    "    }",
                                    "}else {",
                                    "    SRMusicalWeb.app.message(SRMusicalWeb.globals.MESSAGEID,SRMusicalWeb.globals.MESSAGETITLEALERTA,SRMusicalWeb.globals.MESSAGEMSJNOREGISTRO,SRMusicalWeb.globals.MESSAGETYPEOK);",
                                    "    button.enable();",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onBtn_eliminar_cancionClick",
                            "designerId": "b192d73d-cb05-4a30-9416-b33c9b06cd1c"
                        }
                    ]
                }
            ]
        }
    ]
}